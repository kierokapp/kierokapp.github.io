webpackJsonp([8],{454:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=o(468),a=o(485),r=o(0),n=r(s.a,a.a,!1,null,null,null);t.default=n.exports},468:function(e,t,o){"use strict";var s=o(31),a=o(47);t.a={props:["cityName","categoryName"],data:function(){return{resource:"products",loading:!1}},computed:{category:{get:function(){return this.$store.state.products.category||{}},set:function(e){(null===e||e&&e.name)&&this.$store.commit("setCategory",e,{module:"products"})}},results:{get:function(){return this.$store.state.search.results[this.resource]},set:function(e){this.$store.commit("setResults",{resource:this.resource,data:e},{module:"search"})}}},methods:{next:function(e){this.$router.push({name:this.$route.name,params:{cityName:this.cityName,categoryName:e.slug}})},onSelected:function(e,t){!0!==t&&this.next(e)},onCategoryLoaded:function(e){this.categoryName&&!e&&this.next({})},onSearchSubmitted:function(){this.next(this.category||{}),this.loading=!0},onSearchDone:function(e){this.loading=!1}},components:{ProductList:s.default,CategorySelector:a.default},created:function(){this.$store.commit("setSearchType","productos",{module:"search"}),this.categoryName||(this.category=null),this.$root.$on("app:search-submitted",this.onSearchSubmitted).$on("app:search-done",this.onSearchDone)},beforeDestroy:function(){this.$root.$off("app:search-submitted",this.onSearchSubmitted).$off("app:search-done",this.onSearchDone)},beforeRouteLeave:function(e,t,o){o()},mounted:function(){}}},485:function(e,t,o){"use strict";var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"non-selectable"},[e.categoryName?o("div",[e.loading?[e._v("\n      Cargando...\n    ")]:!e.loading&&e.results.length?[o("product-list",{attrs:{items:e.results}})]:[o("h1",[e._v("Una loca página para búsquedas vacías se asoma...")])]],2):[o("category-selector",{ref:"selector",attrs:{mode:"list",resource:e.resource,value:e.category,"loaded-callback":e.onCategoryLoaded},on:{selected:e.onSelected}})]],2)},a=[],r={render:s,staticRenderFns:a};t.a=r}});